# Maintainer: Thermi <noel [at] familie-kuntze dot de>

pkgname=ndppd
pkgver=1.0_devel
_pkgver="${pkgver//_/-}"
pkgrel=1
pkgdesc="IPv6 NDP proxy daemon"
url='https://github.com/DanielAdolfsson/ndppd'
license=("GPL3")
arch=('x86_64' 'aarch64')
backup=('etc/ndppd.conf')
makedepends=('git')

source=("git+https://github.com/DanielAdolfsson/ndppd#branch=${_pkgver}"
        "ndppd.service")

sha256sums=('SKIP'
            'b8c1e3ab37cebc2aeb83873cba719fdc919fd5d2832170011ff8da471972e061')

build() {
  cd "${pkgname}"

  make PREFIX=/usr all
}

package() {
  cd "${pkgname}"

  make PREFIX=/usr SBINDIR=/${pkgdir}/usr/bin DESTDIR=${pkgdir} install
  install -D -m 644 "${srcdir}/ndppd.service" "${pkgdir}/usr/lib/systemd/system/ndppd.service"
  install -D -m 644 ndppd.conf-dist "${pkgdir}/etc/ndppd.conf"
}

